<!DOCTYPE html>
<html>
<head>
  <title><%= title %></title>
  <% include partials/pageStyles %>

<body>
<% include partials/navbar %>

<div class="container">
  <div class="settings-wrapper">
    <div class="settings-box">
      <div class="row">
        <h2><%= user_name %> Settings</h2>
          <form action="/settings" method="POST">
            <fieldset>
              <div class="form-group mt-5">
                <h3>User Settings</h3>
              </div>
              <div class="form-group">
                <label for="email" class="sr-only">Email</label>
                <input type="text" name="email" class="form-control mb-2" value=<%= settings.user.email %> required autofocus>
              </div>
              <div class="form-group">
                <label for="code_device" class="sr-only">Secondary Auth Device</label>
                <input type="text" name="code_device" class="form-control" value=<%= settings.user.code_device %> required>
              </div>
              <div class="form-group">
                <label for="permanent_code" class="sr-only">Authentication Code</label>
                <input type="text" name="permanent_code" class="form-control" value=<%= settings.user.permanent_code %> required>
              </div>

              <div class="form-group mt-5">
                <h3>History Settings</h3>
              </div>
              <div class="form-group">
                <label for="local_count" class="sr-only">Deployments Saved Locally</label>
                <input type="number" name="local_count" class="form-control" value=<%= settings.history.local_count%> required>
              </div>
              <div class="form-group">
                <label for="local_format" class="sr-only">Deployment Save Format</label>
                <input type="text" name="local_format" class="form-control" value=<%= settings.history.local_format %> required>
              </div>
              <div class="form-group">
                <label for="storage_location" class="sr-only">Deployment Save Location</label>
                <input type="text" name="storage_location" class="form-control" value=<%= settings.history.storage_location %> required>
              </div>
              <div class="form-group">
                <label for="download_location" class="sr-only">Download Location</label>
                <input type="text" name="download_location" class="form-control" value=<%= settings.history.download_directory %> required>
              </div>

              <div class="form-group mt-5">
                <h3>System Settings</h3>
              </div>
              <div class="form-group">
                <label for="time_zone" class="sr-only">Time Zone</label>
                <br />
                <input type="range" min="-11" max="14" name="time_zone" class="form-control" value=<%= settings.history.local_count %> required>
              </div>
              <div class="form-group">
                <label for="updates_enabled" class="sr-only">Enable Periodic Automatic Updates</label>
                <input type="checkbox" name="updates_enabled" class="form-control" <%if (settings.system.updates_enabled == true) { %> checked <% } %> required>
              </div>
              <div class="form-group">
                <label for="localization_enabled" class="sr-only">Location On</label>
                <input type="checkbox" name="localization_enabled" class="form-control" <%if (settings.system.localization_enabled == true) { %> checked <% } %> required>
              </div>

              <div class="form-group">
                <button class="btn btn-lg btn-primary btn-block" id="update" type="submit">Update</button>
              </div>

              <div class="form-group mt-5">
                <h3>Nanite Settings</h3>
              </div>
              <div class="form-group">
                <label for="drivers" class="sr-only">My Drivers</label>
                <input type="text" name="my_drivers" class="form-control" value=<% settings.nanite.my_drivers %> required>
              </div>
              <div class="form-group">
                <label for="algos" class="sr-only">My Algos</label>
                <input type="text" name="my_algos" class="form-control" value=<% settings.nanite.my_algos %> required>
              </div>
              <div class="form-group">
                <label for="driver_storage" class="sr-only">Driver Location</label>
                <input type="text" name="driver_storage" class="form-control" value=<% settings.nanite.driver_storage %> required>
              </div>

              <div class="form-group">
                <button class="btn btn-lg btn-primary btn-block" id="update" type="submit">Update</button>
              </div>

            </fieldset>
          </form>
      </div>
    </div>
  </div>

  <% include partials/pageScripts %>
</body>
</html>